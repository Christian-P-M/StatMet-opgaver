---
title: "MC2"
author: "Christian Præst Møller"
date: "2026-01-14"
output: html_document
---

Kode til at sammenligne to modeller (som brugt i AFL):
```{r}
library(readr)
library(moderndive)
library(infer)
library(tidyverse)
library(ggplot2)


statics_lm_stor <- lm(NDVI~ climate_zone+season+prev_month_air_temperature+prev_month_soil_temperature, data = data1)
statics_lm <- lm(NDVI~ climate_zone + season+prev_month_air_temperature, data = data1)
F_obs <- F_test(statics_lm, statics_lm_stor)
B <- 1000
X0 <- model.matrix(statics_lm)
X1 <- model.matrix(statics_lm_stor)
statics_boot <- tibble(residuals = residuals(statics_lm)) %>%
  rep_sample_n(size = nrow(data1), replace = TRUE, reps = B) %>%
  mutate(y = fitted(statics_lm) + residuals) %>%
  summarize(F = F_test(lm.fit(X0, y), lm.fit(X1, y)))


ggplot(data=statics_boot) +
  geom_histogram(mapping = aes(x=F))


statics_boot %>%
  get_p_value(obs_stat = F_obs, direction = "right")
```

